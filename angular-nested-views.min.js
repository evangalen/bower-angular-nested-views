/*! angular-nested-views 21-10-2013 */
!function(){"use strict";var a=function(a){this.$routeProvider=a,this.pathPerAction={}};a.prototype=function(){var b=function(a){return"string"==typeof a?a:a.url},c=function(a,b,c){var d,e=b.lastIndexOf(".");if(-1!==e){var f=b.substring(0,e),g=a[f];g||(g=""),d=g+c}else d=c;return a[b]=d,d},d=function(a,b,c){var d=null,e=b.split(".");angular.forEach(e,function(b){var e=d?d+"."+b:b,f=[],g=c[e];g&&(angular.forEach(g.split(/\W/),function(a){!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(g)&&f.push(a)}),a[e]=f),d=e})};return{constructor:a,abstractAction:function(a,b){return c(this.pathPerAction,a,b),this},whenAction:function(a,e){var f=b(e),g=c(this.pathPerAction,a,f),h="object"==typeof e?angular.copy(e):{};return"object"==typeof e&&delete h.url,h.action=a,h.paramsPerAction={},d(h.paramsPerAction,a,this.pathPerAction),this.$routeProvider.when(g,h),this},otherwise:function(a){return this.$routeProvider.otherwise(a),this},$get:function(){return null}}}();var b=[];(angular.version.major>1||1===angular.version.major&&angular.version.minor>=2)&&b.push("ngRoute"),angular.module("angularNestedViews.actionRoute",b).provider("$actionRoute",["$routeProvider",function(b){return new a(b)}])}(),function(){"use strict";var a=!1,b=function(a){return function(b,d,e){var f=c(e);return a(b,d,f)}},c=function(a){return function(b,c){var e,f=angular.element("<span>"),g=function(){var c=b.$new();return a(c,h),c},h=function(a,b){f.append(a),c(f,b)};e=g(),b.$on("$routeChangeSuccess",function(a,c,h){var i=!1,j=b.$_currentAction(),k=c.paramsPerAction?c.paramsPerAction[j]:null;if(k){for(var l=k.length,m=0;l>m&&!i;m++)i=d(c,h,k[m]);i&&(e.$destroy(),f.children().remove(),e=g())}})}},d=function(a,b,c){return a.params[c]&&b.params[c]&&a.params[c]!==b.params[c]},e=[];(angular.version.major>1||1===angular.version.major&&angular.version.minor>=2)&&e.push("ngRoute"),angular.module("angularNestedViews.decoratedNgSwitchWhenDirective",e).config(["$routeProvider","$provide",function(c,d){d.decorator("ngSwitchWhenDirective",["$delegate",function(c){var d=c[0];return a||(d.compile=b(d.compile),a=!0),c}])}])}(),function(){"use strict";angular.module("angularNestedViews",["angularNestedViews.rootScopeAdditions","angularNestedViews.decoratedNgSwitchWhenDirective","angularNestedViews.actionRoute"])}(),function(){"use strict";var a="$$_subActionIndex";angular.module("angularNestedViews.rootScopeAdditions",[]).run(["$rootScope","$route",function(b,c){b.$$_subActions=[],b.$$_currentAction=null,b.nextSubAction=function(){var c,d=this;return d.hasOwnProperty(a)?c=d[a]:(c=d.$parent&&angular.isDefined(d.$parent[a])?d.$parent[a]+1:0,d[a]=c),b.$$_subActions[c]},b.currentAction=function(){return b.$$_currentAction},b.$_currentAction=function(){var c=this,d=c[a];if("number"!=typeof d)throw"No current action found";return b.$$_subActions.slice(0,d+1).join(".")},b.$on("$routeChangeSuccess",function(){if(c.current){var a=c.current.action;a&&(b.$$_currentAction=a,b.$$_subActions=a.split("."))}})}])}();